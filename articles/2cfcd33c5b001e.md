---
title: "コマンド1発でZennの記事を書きはじめるまでの歩み(道半ば)"
emoji: "🙌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ['test']
published: true
---

# 背景
度週1位のペースで記事投稿する理想に掲げているものの、全然投稿できていない状況がはや数ヶ月。

記事を書くより優先したい事があったりもしたけれど、
- 月1位は絶対に投稿する時間はあったはず
- 書きたいネタは溜まっていく一方
- 溜まっているネタの、フレッシュだった記憶は既に{opacity: 0.1;}位透明に…

そんな時に、以下の記事に出会いました。
CLIを使って、エディタで記事を書き、GitHubにpushするだけで投稿できてしまうという物
https://zenn.dev/fujimiya/articles/dcf2ef5282bb3d

<!-- とりあえず記事のたたきをいくつか書いておいて、 -->
<!-- スキマ時間に完成させていくスタイルに挑戦してみようと思いました。 -->
<!-- ※gitの草も増やせるし一石二鳥！！ -->

そして、せっかくならパッと記事作成が開始できるように、
コマンド1発でエディタとプレビュー画面を起動して、
執筆の入口までは最速でたどり着く事をゴールにします！(その後、実際に書くかは別として。。。)

そして *2、その過程を一つの記事として残す事で、
頑張った自分に対して｢初めて自分で自分を褒めてあげようと思います｣(Byオリンピック)

## 環境
MacBook Air M2 14.5（sonoma)
nodejs v22.5.1

## 環境構築
1. ZennとGitHubの連携
https://zenn.dev/zenn/articles/install-zenn-cli
 
2. Zenn CLIのインストール
https://zenn.dev/zenn/articles/install-zenn-cli

:::message
**CLIをインストールするディレクトリにご注意**

私は`~/articles`を作成したんですが、これは失敗でした。
`npx zenn init`で初期処理を実行すると、実行したディレクトリにarticlesというディレクトリが作成されてしまうので`~/articles/articles`という階層構造になってしまいます。
※作成されたarticlesの中に.mdファイルを作成して記事を書いていきます。

```
articles    最終的に私はzennというディレクトリ名に変更しました。
├── README.md
├── articles
├── books
├── node_modules
│   └── zenn-cli
├── package-lock.json
├── package.json
```
:::


## 記事を作成してみる
1. コマンドを実行して記事の雛形を作成する
`npx zenn new:article`
:::message
このコマンドは`npx zenn init`を実行したフォルダで実行してください。
articlesディレクトリの中で実行すると、その中に更に｢articles/ランダムなslug.md｣が作成されてしまいます。
```
zenn                ※ここで実行するのが正しい
├── articles        ※ここで実行すると更にarticlesが追加される
│   └── articles    
│       └── xxxxxx.md  ※誤って追加されたarticlesの下に.mdファイルが作成されてしまう
```
:::


2. 記事を書く
https://zenn.dev/zenn/articles/zenn-cli-guide

利用しているエディタで.mdファイルを編集します。
```
zenn
├── articles
│     └── xxxxxxxxxxxxx.md  このファイルを編集していきます。
```

雛形で作成された.mdファイルを編集していきます。
```
---
title: "" # 記事のタイトル
emoji: "😸" # アイキャッチとして使われる絵文字（1文字だけ）
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: [] # タグ。["markdown", "rust", "aws"]のように指定する
published: true # 公開設定（falseにすると下書きに保存されます。）
ここから本文を書く
---
```
マークダウンでの書き方は以下を確認してください。
https://zenn.dev/zenn/articles/markdown-guide



### 記事のプレビュー
https://zenn.dev/zenn/articles/zenn-cli-guide
`npx zenn preview`を実行して、`http://localhost:8000/`を開くと、以下画像の様な画面でプレビューが見られます。
![](/images/2cfcd33c5b001e/preview.png)


3. 記事を公開する
公開する.mdファイルをGitHubにpushします。
`git add 作成した.mdファイル`
`git commit -m '任意のコミット名'`
`git push origin main'`


:::message
記事を公開する場合は.mdファイルのヘッダにあるpublishedを`true`に、
公開せず下書きに保存する場合は`false`にします。
```
published: true
```
:::

## 今後について
という事で、なんとか記事を公開するところまではできたので、
まずは実際に公開して投稿してみようと思います。

引き続き、コマンド1発で新規作成or記事編集と、プレビュー画面がぽーんっと開けるように試行錯誤してみます。